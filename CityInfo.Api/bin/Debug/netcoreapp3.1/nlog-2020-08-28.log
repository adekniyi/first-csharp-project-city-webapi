2020-08-28 10:24:37.1984|INFO|CityInfo.Api.Program|initialing app...
2020-08-28 10:24:37.6051|ERROR|CityInfo.Api.Program|application crash because of exception.
2020-08-28 10:25:10.4827|INFO|CityInfo.Api.Program|initialing app...
2020-08-28 10:25:10.8164|ERROR|CityInfo.Api.Program|application crash because of exception.
2020-08-28 10:28:42.5919|INFO|CityInfo.Api.Program|initialing app...
2020-08-28 10:36:10.6210|INFO|CityInfo.Api.Program|initialing app...
2020-08-28 10:45:05.6146|INFO|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 3.1.7 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-08-28 10:46:05.5077|INFO|CityInfo.Api.Program|initialing app...
2020-08-28 10:46:06.9880|INFO|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 3.1.7 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-08-28 10:46:07.4152|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (20ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2020-08-28 10:46:07.4949|ERROR|Microsoft.EntityFrameworkCore.Database.Command|Failed executing DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [master] SET SINGLE_USER WITH ROLLBACK IMMEDIATE;
END;
2020-08-28 10:46:07.5220|ERROR|CityInfo.Api.Program|An error occurred while migrating the database.
2020-08-28 10:46:07.5620|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|User profile is available. Using 'C:\Users\User\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-08-28 10:46:07.7645|INFO|Microsoft.Hosting.Lifetime|Application started. Press Ctrl+C to shut down.
2020-08-28 10:46:07.7745|INFO|Microsoft.Hosting.Lifetime|Hosting environment: Development
2020-08-28 10:46:07.7745|INFO|Microsoft.Hosting.Lifetime|Content root path: C:\Users\User\source\repos\CityInfo.Api\CityInfo.Api
2020-08-28 10:46:07.8184|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:1028/  
2020-08-28 10:46:07.9227|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished in 107.2185ms 404 text/plain
2020-08-28 10:46:07.9895|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:1028/favicon.ico  
2020-08-28 10:46:07.9960|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished in 10.8987ms 404 text/plain
2020-08-28 10:51:03.8152|INFO|CityInfo.Api.Program|initialing app...
2020-08-28 10:51:05.2234|INFO|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 3.1.7 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-08-28 10:51:15.6201|ERROR|Microsoft.EntityFrameworkCore.Database.Command|Failed executing DbCommand (17ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
CREATE DATABASE [CityInfoDB];
2020-08-28 10:51:15.6583|ERROR|CityInfo.Api.Program|An error occurred while migrating the database.
2020-08-28 10:51:15.6928|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|User profile is available. Using 'C:\Users\User\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-08-28 10:51:15.8675|INFO|Microsoft.Hosting.Lifetime|Application started. Press Ctrl+C to shut down.
2020-08-28 10:51:15.8739|INFO|Microsoft.Hosting.Lifetime|Hosting environment: Development
2020-08-28 10:51:15.8739|INFO|Microsoft.Hosting.Lifetime|Content root path: C:\Users\User\source\repos\CityInfo.Api\CityInfo.Api
2020-08-28 10:51:15.9094|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:1028/  
2020-08-28 10:51:16.0170|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished in 108.9726ms 404 text/plain
2020-08-28 10:56:23.5949|INFO|CityInfo.Api.Program|initialing app...
2020-08-28 10:56:25.1504|INFO|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 3.1.7 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-08-28 10:56:25.5787|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (25ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2020-08-28 10:56:25.6581|ERROR|Microsoft.EntityFrameworkCore.Database.Command|Failed executing DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [master] SET SINGLE_USER WITH ROLLBACK IMMEDIATE;
END;
2020-08-28 10:56:25.6939|ERROR|CityInfo.Api.Program|An error occurred while migrating the database.
2020-08-28 10:56:25.7243|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|User profile is available. Using 'C:\Users\User\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-08-28 10:56:25.8720|INFO|Microsoft.Hosting.Lifetime|Application started. Press Ctrl+C to shut down.
2020-08-28 10:56:25.8720|INFO|Microsoft.Hosting.Lifetime|Hosting environment: Development
2020-08-28 10:56:25.8720|INFO|Microsoft.Hosting.Lifetime|Content root path: C:\Users\User\source\repos\CityInfo.Api\CityInfo.Api
2020-08-28 10:56:25.9035|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:1028/  
2020-08-28 10:56:25.9907|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished in 89.1106ms 404 text/plain
2020-08-28 11:01:29.6388|INFO|CityInfo.Api.Program|initialing app...
2020-08-28 11:01:31.1574|INFO|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 3.1.7 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-08-28 11:01:41.9379|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (380ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
CREATE DATABASE [CityInfoDB];
2020-08-28 11:01:42.0115|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (68ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [CityInfoDB] SET READ_COMMITTED_SNAPSHOT ON;
END;
2020-08-28 11:01:42.0350|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (8ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2020-08-28 11:01:42.1470|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (9ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [__EFMigrationsHistory] (
    [MigrationId] nvarchar(150) NOT NULL,
    [ProductVersion] nvarchar(32) NOT NULL,
    CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
);
2020-08-28 11:01:42.1522|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2020-08-28 11:01:42.1753|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (17ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2020-08-28 11:01:42.1846|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2020-08-28 11:01:42.2108|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20200827204955_CityInfoDBIntialMigration'.
2020-08-28 11:01:42.2501|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Cities] (
    [id] int NOT NULL IDENTITY,
    [Name] nvarchar(50) NOT NULL,
    [Description] nvarchar(200) NULL,
    CONSTRAINT [PK_Cities] PRIMARY KEY ([id])
);
2020-08-28 11:01:42.2605|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (7ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [pointsOfInterest] (
    [id] int NOT NULL IDENTITY,
    [Name] nvarchar(50) NOT NULL,
    [cityId] int NOT NULL,
    CONSTRAINT [PK_pointsOfInterest] PRIMARY KEY ([id]),
    CONSTRAINT [FK_pointsOfInterest_Cities_cityId] FOREIGN KEY ([cityId]) REFERENCES [Cities] ([id]) ON DELETE CASCADE
);
2020-08-28 11:01:42.2605|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_pointsOfInterest_cityId] ON [pointsOfInterest] ([cityId]);
2020-08-28 11:01:42.2605|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20200827204955_CityInfoDBIntialMigration', N'3.1.7');
2020-08-28 11:01:42.2812|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20200827210924_CityInfoDBAddPOIMigration'.
2020-08-28 11:01:42.2905|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [pointsOfInterest] ADD [Description] nvarchar(200) NULL;
2020-08-28 11:01:42.2905|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20200827210924_CityInfoDBAddPOIMigration', N'3.1.7');
2020-08-28 11:01:42.2905|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20200828094505_SampleData'.
2020-08-28 11:01:42.3518|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (34ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'id', N'Description', N'Name') AND [object_id] = OBJECT_ID(N'[Cities]'))
    SET IDENTITY_INSERT [Cities] ON;
INSERT INTO [Cities] ([id], [Description], [Name])
VALUES (1, N'The one with that big park.', N'New York City');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'id', N'Description', N'Name') AND [object_id] = OBJECT_ID(N'[Cities]'))
    SET IDENTITY_INSERT [Cities] OFF;
2020-08-28 11:01:42.3518|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (7ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'id', N'Description', N'Name') AND [object_id] = OBJECT_ID(N'[Cities]'))
    SET IDENTITY_INSERT [Cities] ON;
INSERT INTO [Cities] ([id], [Description], [Name])
VALUES (2, N'The one with the cathedral that was never really finished.', N'Antwerp');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'id', N'Description', N'Name') AND [object_id] = OBJECT_ID(N'[Cities]'))
    SET IDENTITY_INSERT [Cities] OFF;
2020-08-28 11:01:42.3704|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'id', N'Description', N'Name') AND [object_id] = OBJECT_ID(N'[Cities]'))
    SET IDENTITY_INSERT [Cities] ON;
INSERT INTO [Cities] ([id], [Description], [Name])
VALUES (3, N'The one with that big tower.', N'Paris');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'id', N'Description', N'Name') AND [object_id] = OBJECT_ID(N'[Cities]'))
    SET IDENTITY_INSERT [Cities] OFF;
2020-08-28 11:01:42.3704|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (9ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'id', N'Description', N'Name', N'cityId') AND [object_id] = OBJECT_ID(N'[pointsOfInterest]'))
    SET IDENTITY_INSERT [pointsOfInterest] ON;
INSERT INTO [pointsOfInterest] ([id], [Description], [Name], [cityId])
VALUES (1, N'The most visited urban park in the United States.', N'Central Park', 1),
(2, N'A 102-story skyscraper located in Midtown Manhattan.', N'Empire State Building', 1),
(3, N'A Gothic style cathedral, conceived by architects Jan and Pieter Appelmans.', N'Cathedral', 2),
(4, N'The the finest example of railway architecture in Belgium.', N'Antwerp Central Station', 2),
(5, N'A wrought iron lattice tower on the Champ de Mars, named after engineer Gustave Eiffel.', N'Eiffel Tower', 3),
(6, N'The world''s largest museum.', N'The Louvre', 3);
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'id', N'Description', N'Name', N'cityId') AND [object_id] = OBJECT_ID(N'[pointsOfInterest]'))
    SET IDENTITY_INSERT [pointsOfInterest] OFF;
2020-08-28 11:01:42.3872|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20200828094505_SampleData', N'3.1.7');
2020-08-28 11:01:42.4242|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|User profile is available. Using 'C:\Users\User\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-08-28 11:01:42.5793|INFO|Microsoft.Hosting.Lifetime|Application started. Press Ctrl+C to shut down.
2020-08-28 11:01:42.5941|INFO|Microsoft.Hosting.Lifetime|Hosting environment: Development
2020-08-28 11:01:42.5941|INFO|Microsoft.Hosting.Lifetime|Content root path: C:\Users\User\source\repos\CityInfo.Api\CityInfo.Api
2020-08-28 11:01:42.6241|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:1028/  
2020-08-28 11:01:42.7252|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished in 104.5405ms 404 text/plain
2020-08-28 11:03:37.9483|INFO|CityInfo.Api.Program|initialing app...
2020-08-28 11:03:39.6834|INFO|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 3.1.7 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-08-28 11:03:39.7888|ERROR|CityInfo.Api.Program|An error occurred while migrating the database.
2020-08-28 11:03:39.8344|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|User profile is available. Using 'C:\Users\User\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-08-28 11:03:40.2247|INFO|Microsoft.Hosting.Lifetime|Application started. Press Ctrl+C to shut down.
2020-08-28 11:03:40.2305|INFO|Microsoft.Hosting.Lifetime|Hosting environment: Development
2020-08-28 11:03:40.2305|INFO|Microsoft.Hosting.Lifetime|Content root path: C:\Users\User\source\repos\CityInfo.Api\CityInfo.Api
2020-08-28 11:03:40.2599|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:1028/  
2020-08-28 11:03:40.3508|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished in 92.6733ms 404 text/plain
2020-08-28 11:04:26.1336|INFO|CityInfo.Api.Program|initialing app...
2020-08-28 11:07:21.6073|INFO|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 3.1.7 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-08-28 11:08:47.8001|INFO|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 3.1.7 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-08-28 11:13:16.3741|INFO|CityInfo.Api.Program|initialing app...
2020-08-28 11:15:36.9006|INFO|CityInfo.Api.Program|initialing app...
2020-08-28 11:15:38.8545|INFO|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 3.1.7 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-08-28 11:15:49.8003|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (428ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
CREATE DATABASE [CityInfoDB];
2020-08-28 11:15:49.8699|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (65ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [CityInfoDB] SET READ_COMMITTED_SNAPSHOT ON;
END;
2020-08-28 11:15:49.8910|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (7ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2020-08-28 11:15:50.0002|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (10ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [__EFMigrationsHistory] (
    [MigrationId] nvarchar(150) NOT NULL,
    [ProductVersion] nvarchar(32) NOT NULL,
    CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
);
2020-08-28 11:15:50.0002|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2020-08-28 11:15:50.0260|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (15ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2020-08-28 11:15:50.0260|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2020-08-28 11:15:50.0615|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20200827204955_CityInfoDBIntialMigration'.
2020-08-28 11:15:50.0985|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Cities] (
    [id] int NOT NULL IDENTITY,
    [Name] nvarchar(50) NOT NULL,
    [Description] nvarchar(200) NULL,
    CONSTRAINT [PK_Cities] PRIMARY KEY ([id])
);
2020-08-28 11:15:50.1042|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [pointsOfInterest] (
    [id] int NOT NULL IDENTITY,
    [Name] nvarchar(50) NOT NULL,
    [cityId] int NOT NULL,
    CONSTRAINT [PK_pointsOfInterest] PRIMARY KEY ([id]),
    CONSTRAINT [FK_pointsOfInterest_Cities_cityId] FOREIGN KEY ([cityId]) REFERENCES [Cities] ([id]) ON DELETE CASCADE
);
2020-08-28 11:15:50.1042|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_pointsOfInterest_cityId] ON [pointsOfInterest] ([cityId]);
2020-08-28 11:15:50.1042|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20200827204955_CityInfoDBIntialMigration', N'3.1.7');
2020-08-28 11:15:50.1220|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20200827210924_CityInfoDBAddPOIMigration'.
2020-08-28 11:15:50.1220|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [pointsOfInterest] ADD [Description] nvarchar(200) NULL;
2020-08-28 11:15:50.1345|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20200827210924_CityInfoDBAddPOIMigration', N'3.1.7');
2020-08-28 11:15:50.1345|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20200828094505_SampleData'.
2020-08-28 11:15:50.1816|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (25ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'id', N'Description', N'Name') AND [object_id] = OBJECT_ID(N'[Cities]'))
    SET IDENTITY_INSERT [Cities] ON;
INSERT INTO [Cities] ([id], [Description], [Name])
VALUES (1, N'The one with that big park.', N'New York City');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'id', N'Description', N'Name') AND [object_id] = OBJECT_ID(N'[Cities]'))
    SET IDENTITY_INSERT [Cities] OFF;
2020-08-28 11:15:50.1816|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'id', N'Description', N'Name') AND [object_id] = OBJECT_ID(N'[Cities]'))
    SET IDENTITY_INSERT [Cities] ON;
INSERT INTO [Cities] ([id], [Description], [Name])
VALUES (2, N'The one with the cathedral that was never really finished.', N'Antwerp');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'id', N'Description', N'Name') AND [object_id] = OBJECT_ID(N'[Cities]'))
    SET IDENTITY_INSERT [Cities] OFF;
2020-08-28 11:15:50.1990|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'id', N'Description', N'Name') AND [object_id] = OBJECT_ID(N'[Cities]'))
    SET IDENTITY_INSERT [Cities] ON;
INSERT INTO [Cities] ([id], [Description], [Name])
VALUES (3, N'The one with that big tower.', N'Paris');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'id', N'Description', N'Name') AND [object_id] = OBJECT_ID(N'[Cities]'))
    SET IDENTITY_INSERT [Cities] OFF;
2020-08-28 11:15:50.2121|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (10ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'id', N'Description', N'Name', N'cityId') AND [object_id] = OBJECT_ID(N'[pointsOfInterest]'))
    SET IDENTITY_INSERT [pointsOfInterest] ON;
INSERT INTO [pointsOfInterest] ([id], [Description], [Name], [cityId])
VALUES (1, N'The most visited urban park in the United States.', N'Central Park', 1),
(2, N'A 102-story skyscraper located in Midtown Manhattan.', N'Empire State Building', 1),
(3, N'A Gothic style cathedral, conceived by architects Jan and Pieter Appelmans.', N'Cathedral', 2),
(4, N'The the finest example of railway architecture in Belgium.', N'Antwerp Central Station', 2),
(5, N'A wrought iron lattice tower on the Champ de Mars, named after engineer Gustave Eiffel.', N'Eiffel Tower', 3),
(6, N'The world''s largest museum.', N'The Louvre', 3);
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'id', N'Description', N'Name', N'cityId') AND [object_id] = OBJECT_ID(N'[pointsOfInterest]'))
    SET IDENTITY_INSERT [pointsOfInterest] OFF;
2020-08-28 11:15:50.2121|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20200828094505_SampleData', N'3.1.7');
2020-08-28 11:15:50.2121|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20200828100721_NewSampleDataBase'.
2020-08-28 11:15:50.2278|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20200828100721_NewSampleDataBase', N'3.1.7');
2020-08-28 11:15:50.2658|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|User profile is available. Using 'C:\Users\User\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-08-28 11:15:50.4164|INFO|Microsoft.Hosting.Lifetime|Application started. Press Ctrl+C to shut down.
2020-08-28 11:15:50.4164|INFO|Microsoft.Hosting.Lifetime|Hosting environment: Development
2020-08-28 11:15:50.4164|INFO|Microsoft.Hosting.Lifetime|Content root path: C:\Users\User\source\repos\CityInfo.Api\CityInfo.Api
2020-08-28 11:15:50.4547|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:1028/  
2020-08-28 11:15:50.5693|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished in 116.101ms 404 text/plain
2020-08-28 11:17:34.0267|INFO|CityInfo.Api.Program|initialing app...
2020-08-28 11:17:35.4235|INFO|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 3.1.7 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-08-28 11:17:46.1027|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (326ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
CREATE DATABASE [CityInfoDB];
2020-08-28 11:17:46.1777|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (66ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [CityInfoDB] SET READ_COMMITTED_SNAPSHOT ON;
END;
2020-08-28 11:17:46.1998|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (7ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2020-08-28 11:17:46.3123|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (14ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [__EFMigrationsHistory] (
    [MigrationId] nvarchar(150) NOT NULL,
    [ProductVersion] nvarchar(32) NOT NULL,
    CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
);
2020-08-28 11:17:46.3123|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2020-08-28 11:17:46.3377|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (15ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2020-08-28 11:17:46.3377|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2020-08-28 11:17:46.3671|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20200827204955_CityInfoDBIntialMigration'.
2020-08-28 11:17:46.4042|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Cities] (
    [id] int NOT NULL IDENTITY,
    [Name] nvarchar(50) NOT NULL,
    [Description] nvarchar(200) NULL,
    CONSTRAINT [PK_Cities] PRIMARY KEY ([id])
);
2020-08-28 11:17:46.4042|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [pointsOfInterest] (
    [id] int NOT NULL IDENTITY,
    [Name] nvarchar(50) NOT NULL,
    [cityId] int NOT NULL,
    CONSTRAINT [PK_pointsOfInterest] PRIMARY KEY ([id]),
    CONSTRAINT [FK_pointsOfInterest_Cities_cityId] FOREIGN KEY ([cityId]) REFERENCES [Cities] ([id]) ON DELETE CASCADE
);
2020-08-28 11:17:46.4042|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_pointsOfInterest_cityId] ON [pointsOfInterest] ([cityId]);
2020-08-28 11:17:46.4189|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20200827204955_CityInfoDBIntialMigration', N'3.1.7');
2020-08-28 11:17:46.4189|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20200827210924_CityInfoDBAddPOIMigration'.
2020-08-28 11:17:46.4351|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [pointsOfInterest] ADD [Description] nvarchar(200) NULL;
2020-08-28 11:17:46.4351|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20200827210924_CityInfoDBAddPOIMigration', N'3.1.7');
2020-08-28 11:17:46.4351|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20200828094505_SampleData'.
2020-08-28 11:17:46.4921|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (24ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'id', N'Description', N'Name') AND [object_id] = OBJECT_ID(N'[Cities]'))
    SET IDENTITY_INSERT [Cities] ON;
INSERT INTO [Cities] ([id], [Description], [Name])
VALUES (1, N'The one with that big park.', N'New York City');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'id', N'Description', N'Name') AND [object_id] = OBJECT_ID(N'[Cities]'))
    SET IDENTITY_INSERT [Cities] OFF;
2020-08-28 11:17:46.5009|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'id', N'Description', N'Name') AND [object_id] = OBJECT_ID(N'[Cities]'))
    SET IDENTITY_INSERT [Cities] ON;
INSERT INTO [Cities] ([id], [Description], [Name])
VALUES (2, N'The one with the cathedral that was never really finished.', N'Antwerp');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'id', N'Description', N'Name') AND [object_id] = OBJECT_ID(N'[Cities]'))
    SET IDENTITY_INSERT [Cities] OFF;
2020-08-28 11:17:46.5090|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'id', N'Description', N'Name') AND [object_id] = OBJECT_ID(N'[Cities]'))
    SET IDENTITY_INSERT [Cities] ON;
INSERT INTO [Cities] ([id], [Description], [Name])
VALUES (3, N'The one with that big tower.', N'Paris');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'id', N'Description', N'Name') AND [object_id] = OBJECT_ID(N'[Cities]'))
    SET IDENTITY_INSERT [Cities] OFF;
2020-08-28 11:17:46.5090|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (8ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'id', N'Description', N'Name', N'cityId') AND [object_id] = OBJECT_ID(N'[pointsOfInterest]'))
    SET IDENTITY_INSERT [pointsOfInterest] ON;
INSERT INTO [pointsOfInterest] ([id], [Description], [Name], [cityId])
VALUES (1, N'The most visited urban park in the United States.', N'Central Park', 1),
(2, N'A 102-story skyscraper located in Midtown Manhattan.', N'Empire State Building', 1),
(3, N'A Gothic style cathedral, conceived by architects Jan and Pieter Appelmans.', N'Cathedral', 2),
(4, N'The the finest example of railway architecture in Belgium.', N'Antwerp Central Station', 2),
(5, N'A wrought iron lattice tower on the Champ de Mars, named after engineer Gustave Eiffel.', N'Eiffel Tower', 3),
(6, N'The world''s largest museum.', N'The Louvre', 3);
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'id', N'Description', N'Name', N'cityId') AND [object_id] = OBJECT_ID(N'[pointsOfInterest]'))
    SET IDENTITY_INSERT [pointsOfInterest] OFF;
2020-08-28 11:17:46.5244|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20200828094505_SampleData', N'3.1.7');
2020-08-28 11:17:46.5613|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|User profile is available. Using 'C:\Users\User\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-08-28 11:17:46.7066|INFO|Microsoft.Hosting.Lifetime|Application started. Press Ctrl+C to shut down.
2020-08-28 11:17:46.7122|INFO|Microsoft.Hosting.Lifetime|Hosting environment: Development
2020-08-28 11:17:46.7122|INFO|Microsoft.Hosting.Lifetime|Content root path: C:\Users\User\source\repos\CityInfo.Api\CityInfo.Api
2020-08-28 11:17:46.7361|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:1028/  
2020-08-28 11:17:46.8288|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished in 93.5473ms 404 text/plain
2020-08-28 11:39:39.8807|INFO|CityInfo.Api.Program|initialing app...
2020-08-28 11:39:41.2521|INFO|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 3.1.7 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-08-28 11:39:52.0138|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (408ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
CREATE DATABASE [CityInfoDB];
2020-08-28 11:39:52.0868|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (68ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [CityInfoDB] SET READ_COMMITTED_SNAPSHOT ON;
END;
2020-08-28 11:39:52.1092|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (7ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2020-08-28 11:39:52.2203|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (12ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [__EFMigrationsHistory] (
    [MigrationId] nvarchar(150) NOT NULL,
    [ProductVersion] nvarchar(32) NOT NULL,
    CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
);
2020-08-28 11:39:52.2203|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2020-08-28 11:39:52.2483|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (16ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2020-08-28 11:39:52.2483|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2020-08-28 11:39:52.2796|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20200827204955_CityInfoDBIntialMigration'.
2020-08-28 11:39:52.3183|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Cities] (
    [id] int NOT NULL IDENTITY,
    [Name] nvarchar(50) NOT NULL,
    [Description] nvarchar(200) NULL,
    CONSTRAINT [PK_Cities] PRIMARY KEY ([id])
);
2020-08-28 11:39:52.3237|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [pointsOfInterest] (
    [id] int NOT NULL IDENTITY,
    [Name] nvarchar(50) NOT NULL,
    [cityId] int NOT NULL,
    CONSTRAINT [PK_pointsOfInterest] PRIMARY KEY ([id]),
    CONSTRAINT [FK_pointsOfInterest_Cities_cityId] FOREIGN KEY ([cityId]) REFERENCES [Cities] ([id]) ON DELETE CASCADE
);
2020-08-28 11:39:52.3237|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_pointsOfInterest_cityId] ON [pointsOfInterest] ([cityId]);
2020-08-28 11:39:52.3373|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20200827204955_CityInfoDBIntialMigration', N'3.1.7');
2020-08-28 11:39:52.3373|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20200827210924_CityInfoDBAddPOIMigration'.
2020-08-28 11:39:52.3541|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [pointsOfInterest] ADD [Description] nvarchar(200) NULL;
2020-08-28 11:39:52.3541|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20200827210924_CityInfoDBAddPOIMigration', N'3.1.7');
2020-08-28 11:39:52.3541|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20200828094505_SampleData'.
2020-08-28 11:39:52.4039|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (24ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'id', N'Description', N'Name') AND [object_id] = OBJECT_ID(N'[Cities]'))
    SET IDENTITY_INSERT [Cities] ON;
INSERT INTO [Cities] ([id], [Description], [Name])
VALUES (1, N'The one with that big park.', N'New York City');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'id', N'Description', N'Name') AND [object_id] = OBJECT_ID(N'[Cities]'))
    SET IDENTITY_INSERT [Cities] OFF;
2020-08-28 11:39:52.4039|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'id', N'Description', N'Name') AND [object_id] = OBJECT_ID(N'[Cities]'))
    SET IDENTITY_INSERT [Cities] ON;
INSERT INTO [Cities] ([id], [Description], [Name])
VALUES (2, N'The one with the cathedral that was never really finished.', N'Antwerp');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'id', N'Description', N'Name') AND [object_id] = OBJECT_ID(N'[Cities]'))
    SET IDENTITY_INSERT [Cities] OFF;
2020-08-28 11:39:52.4222|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'id', N'Description', N'Name') AND [object_id] = OBJECT_ID(N'[Cities]'))
    SET IDENTITY_INSERT [Cities] ON;
INSERT INTO [Cities] ([id], [Description], [Name])
VALUES (3, N'The one with that big tower.', N'Paris');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'id', N'Description', N'Name') AND [object_id] = OBJECT_ID(N'[Cities]'))
    SET IDENTITY_INSERT [Cities] OFF;
2020-08-28 11:39:52.4355|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (10ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'id', N'Description', N'Name', N'cityId') AND [object_id] = OBJECT_ID(N'[pointsOfInterest]'))
    SET IDENTITY_INSERT [pointsOfInterest] ON;
INSERT INTO [pointsOfInterest] ([id], [Description], [Name], [cityId])
VALUES (1, N'The most visited urban park in the United States.', N'Central Park', 1),
(2, N'A 102-story skyscraper located in Midtown Manhattan.', N'Empire State Building', 1),
(3, N'A Gothic style cathedral, conceived by architects Jan and Pieter Appelmans.', N'Cathedral', 2),
(4, N'The the finest example of railway architecture in Belgium.', N'Antwerp Central Station', 2),
(5, N'A wrought iron lattice tower on the Champ de Mars, named after engineer Gustave Eiffel.', N'Eiffel Tower', 3),
(6, N'The world''s largest museum.', N'The Louvre', 3);
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'id', N'Description', N'Name', N'cityId') AND [object_id] = OBJECT_ID(N'[pointsOfInterest]'))
    SET IDENTITY_INSERT [pointsOfInterest] OFF;
2020-08-28 11:39:52.4355|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20200828094505_SampleData', N'3.1.7');
2020-08-28 11:39:52.4806|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|User profile is available. Using 'C:\Users\User\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-08-28 11:39:52.6466|INFO|Microsoft.Hosting.Lifetime|Application started. Press Ctrl+C to shut down.
2020-08-28 11:39:52.6533|INFO|Microsoft.Hosting.Lifetime|Hosting environment: Development
2020-08-28 11:39:52.6533|INFO|Microsoft.Hosting.Lifetime|Content root path: C:\Users\User\source\repos\CityInfo.Api\CityInfo.Api
2020-08-28 11:39:52.6827|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:1028/  
2020-08-28 11:39:52.7829|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished in 102.9909ms 404 text/plain
2020-08-28 11:41:47.2047|INFO|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 3.1.7 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-08-28 11:42:05.3799|INFO|CityInfo.Api.Program|initialing app...
2020-08-28 11:42:06.7149|INFO|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 3.1.7 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-08-28 11:42:17.5175|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (436ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
CREATE DATABASE [CityInfoDB];
2020-08-28 11:42:17.5906|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (64ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [CityInfoDB] SET READ_COMMITTED_SNAPSHOT ON;
END;
2020-08-28 11:42:17.6146|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (7ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2020-08-28 11:42:17.7227|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (9ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [__EFMigrationsHistory] (
    [MigrationId] nvarchar(150) NOT NULL,
    [ProductVersion] nvarchar(32) NOT NULL,
    CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
);
2020-08-28 11:42:17.7278|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2020-08-28 11:42:17.7483|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (15ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2020-08-28 11:42:17.7483|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2020-08-28 11:42:17.7781|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20200827204955_CityInfoDBIntialMigration'.
2020-08-28 11:42:17.8123|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Cities] (
    [id] int NOT NULL IDENTITY,
    [Name] nvarchar(50) NOT NULL,
    [Description] nvarchar(200) NULL,
    CONSTRAINT [PK_Cities] PRIMARY KEY ([id])
);
2020-08-28 11:42:17.8123|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [pointsOfInterest] (
    [id] int NOT NULL IDENTITY,
    [Name] nvarchar(50) NOT NULL,
    [cityId] int NOT NULL,
    CONSTRAINT [PK_pointsOfInterest] PRIMARY KEY ([id]),
    CONSTRAINT [FK_pointsOfInterest_Cities_cityId] FOREIGN KEY ([cityId]) REFERENCES [Cities] ([id]) ON DELETE CASCADE
);
2020-08-28 11:42:17.8222|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_pointsOfInterest_cityId] ON [pointsOfInterest] ([cityId]);
2020-08-28 11:42:17.8222|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20200827204955_CityInfoDBIntialMigration', N'3.1.7');
2020-08-28 11:42:17.8222|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20200827210924_CityInfoDBAddPOIMigration'.
2020-08-28 11:42:17.8435|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [pointsOfInterest] ADD [Description] nvarchar(200) NULL;
2020-08-28 11:42:17.8435|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20200827210924_CityInfoDBAddPOIMigration', N'3.1.7');
2020-08-28 11:42:17.8539|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20200828094505_SampleData'.
2020-08-28 11:42:17.8989|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (27ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'id', N'Description', N'Name') AND [object_id] = OBJECT_ID(N'[Cities]'))
    SET IDENTITY_INSERT [Cities] ON;
INSERT INTO [Cities] ([id], [Description], [Name])
VALUES (1, N'The one with that big park.', N'New York City');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'id', N'Description', N'Name') AND [object_id] = OBJECT_ID(N'[Cities]'))
    SET IDENTITY_INSERT [Cities] OFF;
2020-08-28 11:42:17.8989|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (7ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'id', N'Description', N'Name') AND [object_id] = OBJECT_ID(N'[Cities]'))
    SET IDENTITY_INSERT [Cities] ON;
INSERT INTO [Cities] ([id], [Description], [Name])
VALUES (2, N'The one with the cathedral that was never really finished.', N'Antwerp');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'id', N'Description', N'Name') AND [object_id] = OBJECT_ID(N'[Cities]'))
    SET IDENTITY_INSERT [Cities] OFF;
2020-08-28 11:42:17.9178|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'id', N'Description', N'Name') AND [object_id] = OBJECT_ID(N'[Cities]'))
    SET IDENTITY_INSERT [Cities] ON;
INSERT INTO [Cities] ([id], [Description], [Name])
VALUES (3, N'The one with that big tower.', N'Paris');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'id', N'Description', N'Name') AND [object_id] = OBJECT_ID(N'[Cities]'))
    SET IDENTITY_INSERT [Cities] OFF;
2020-08-28 11:42:17.9178|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (8ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'id', N'Description', N'Name', N'cityId') AND [object_id] = OBJECT_ID(N'[pointsOfInterest]'))
    SET IDENTITY_INSERT [pointsOfInterest] ON;
INSERT INTO [pointsOfInterest] ([id], [Description], [Name], [cityId])
VALUES (1, N'The most visited urban park in the United States.', N'Central Park', 1),
(2, N'A 102-story skyscraper located in Midtown Manhattan.', N'Empire State Building', 1),
(3, N'A Gothic style cathedral, conceived by architects Jan and Pieter Appelmans.', N'Cathedral', 2),
(4, N'The the finest example of railway architecture in Belgium.', N'Antwerp Central Station', 2),
(5, N'A wrought iron lattice tower on the Champ de Mars, named after engineer Gustave Eiffel.', N'Eiffel Tower', 3),
(6, N'The world''s largest museum.', N'The Louvre', 3);
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'id', N'Description', N'Name', N'cityId') AND [object_id] = OBJECT_ID(N'[pointsOfInterest]'))
    SET IDENTITY_INSERT [pointsOfInterest] OFF;
2020-08-28 11:42:17.9339|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20200828094505_SampleData', N'3.1.7');
2020-08-28 11:42:17.9339|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20200828104147_Del'.
2020-08-28 11:42:17.9498|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [pointsOfInterest] DROP CONSTRAINT [FK_pointsOfInterest_Cities_cityId];
2020-08-28 11:42:17.9498|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [pointsOfInterest] DROP CONSTRAINT [PK_pointsOfInterest];
2020-08-28 11:42:17.9620|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [Cities] DROP CONSTRAINT [PK_Cities];
2020-08-28 11:42:18.1150|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (150ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
EXEC sp_rename N'[pointsOfInterest]', N'PointOfInterest';
2020-08-28 11:42:18.1197|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
EXEC sp_rename N'[Cities]', N'City';
2020-08-28 11:42:18.1197|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
EXEC sp_rename N'[PointOfInterest].[IX_pointsOfInterest_cityId]', N'IX_PointOfInterest_cityId', N'INDEX';
2020-08-28 11:42:18.1197|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [PointOfInterest] ADD CONSTRAINT [PK_PointOfInterest] PRIMARY KEY ([id]);
2020-08-28 11:42:18.1404|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [City] ADD CONSTRAINT [PK_City] PRIMARY KEY ([id]);
2020-08-28 11:42:18.1404|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [PointOfInterest] ADD CONSTRAINT [FK_PointOfInterest_City_cityId] FOREIGN KEY ([cityId]) REFERENCES [City] ([id]) ON DELETE CASCADE;
2020-08-28 11:42:18.1491|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20200828104147_Del', N'3.1.7');
2020-08-28 11:42:18.1922|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|User profile is available. Using 'C:\Users\User\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-08-28 11:42:18.3482|INFO|Microsoft.Hosting.Lifetime|Application started. Press Ctrl+C to shut down.
2020-08-28 11:42:18.3542|INFO|Microsoft.Hosting.Lifetime|Hosting environment: Development
2020-08-28 11:42:18.3542|INFO|Microsoft.Hosting.Lifetime|Content root path: C:\Users\User\source\repos\CityInfo.Api\CityInfo.Api
2020-08-28 11:42:18.3786|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:1028/  
2020-08-28 11:42:18.4671|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished in 89.6318ms 404 text/plain
2020-08-28 11:44:04.7309|INFO|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 3.1.7 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-08-28 11:44:17.5322|INFO|CityInfo.Api.Program|initialing app...
2020-08-28 11:44:18.8478|INFO|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 3.1.7 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-08-28 11:44:19.1450|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (20ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2020-08-28 11:44:22.2285|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3,015ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [CityInfoDB] SET SINGLE_USER WITH ROLLBACK IMMEDIATE;
END;
2020-08-28 11:44:22.2776|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (43ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
DROP DATABASE [CityInfoDB];
2020-08-28 11:44:32.6555|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (344ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
CREATE DATABASE [CityInfoDB];
2020-08-28 11:44:32.7252|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (66ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [CityInfoDB] SET READ_COMMITTED_SNAPSHOT ON;
END;
2020-08-28 11:44:32.7335|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2020-08-28 11:44:32.8495|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (9ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [__EFMigrationsHistory] (
    [MigrationId] nvarchar(150) NOT NULL,
    [ProductVersion] nvarchar(32) NOT NULL,
    CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
);
2020-08-28 11:44:32.8540|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2020-08-28 11:44:32.8744|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (15ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2020-08-28 11:44:32.8833|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2020-08-28 11:44:32.9072|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20200827204955_CityInfoDBIntialMigration'.
2020-08-28 11:44:32.9493|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Cities] (
    [id] int NOT NULL IDENTITY,
    [Name] nvarchar(50) NOT NULL,
    [Description] nvarchar(200) NULL,
    CONSTRAINT [PK_Cities] PRIMARY KEY ([id])
);
2020-08-28 11:44:32.9493|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [pointsOfInterest] (
    [id] int NOT NULL IDENTITY,
    [Name] nvarchar(50) NOT NULL,
    [cityId] int NOT NULL,
    CONSTRAINT [PK_pointsOfInterest] PRIMARY KEY ([id]),
    CONSTRAINT [FK_pointsOfInterest_Cities_cityId] FOREIGN KEY ([cityId]) REFERENCES [Cities] ([id]) ON DELETE CASCADE
);
2020-08-28 11:44:32.9493|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_pointsOfInterest_cityId] ON [pointsOfInterest] ([cityId]);
2020-08-28 11:44:32.9656|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20200827204955_CityInfoDBIntialMigration', N'3.1.7');
2020-08-28 11:44:32.9656|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20200827210924_CityInfoDBAddPOIMigration'.
2020-08-28 11:44:32.9845|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [pointsOfInterest] ADD [Description] nvarchar(200) NULL;
2020-08-28 11:44:32.9845|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20200827210924_CityInfoDBAddPOIMigration', N'3.1.7');
2020-08-28 11:44:32.9929|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20200828094505_SampleData'.
2020-08-28 11:44:33.0394|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (25ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'id', N'Description', N'Name') AND [object_id] = OBJECT_ID(N'[Cities]'))
    SET IDENTITY_INSERT [Cities] ON;
INSERT INTO [Cities] ([id], [Description], [Name])
VALUES (1, N'The one with that big park.', N'New York City');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'id', N'Description', N'Name') AND [object_id] = OBJECT_ID(N'[Cities]'))
    SET IDENTITY_INSERT [Cities] OFF;
2020-08-28 11:44:33.0394|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'id', N'Description', N'Name') AND [object_id] = OBJECT_ID(N'[Cities]'))
    SET IDENTITY_INSERT [Cities] ON;
INSERT INTO [Cities] ([id], [Description], [Name])
VALUES (2, N'The one with the cathedral that was never really finished.', N'Antwerp');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'id', N'Description', N'Name') AND [object_id] = OBJECT_ID(N'[Cities]'))
    SET IDENTITY_INSERT [Cities] OFF;
2020-08-28 11:44:33.0575|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'id', N'Description', N'Name') AND [object_id] = OBJECT_ID(N'[Cities]'))
    SET IDENTITY_INSERT [Cities] ON;
INSERT INTO [Cities] ([id], [Description], [Name])
VALUES (3, N'The one with that big tower.', N'Paris');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'id', N'Description', N'Name') AND [object_id] = OBJECT_ID(N'[Cities]'))
    SET IDENTITY_INSERT [Cities] OFF;
2020-08-28 11:44:33.0704|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (10ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'id', N'Description', N'Name', N'cityId') AND [object_id] = OBJECT_ID(N'[pointsOfInterest]'))
    SET IDENTITY_INSERT [pointsOfInterest] ON;
INSERT INTO [pointsOfInterest] ([id], [Description], [Name], [cityId])
VALUES (1, N'The most visited urban park in the United States.', N'Central Park', 1),
(2, N'A 102-story skyscraper located in Midtown Manhattan.', N'Empire State Building', 1),
(3, N'A Gothic style cathedral, conceived by architects Jan and Pieter Appelmans.', N'Cathedral', 2),
(4, N'The the finest example of railway architecture in Belgium.', N'Antwerp Central Station', 2),
(5, N'A wrought iron lattice tower on the Champ de Mars, named after engineer Gustave Eiffel.', N'Eiffel Tower', 3),
(6, N'The world''s largest museum.', N'The Louvre', 3);
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'id', N'Description', N'Name', N'cityId') AND [object_id] = OBJECT_ID(N'[pointsOfInterest]'))
    SET IDENTITY_INSERT [pointsOfInterest] OFF;
2020-08-28 11:44:33.0704|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20200828094505_SampleData', N'3.1.7');
2020-08-28 11:44:33.0704|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20200828104147_Del'.
2020-08-28 11:44:33.0901|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [pointsOfInterest] DROP CONSTRAINT [FK_pointsOfInterest_Cities_cityId];
2020-08-28 11:44:33.0901|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [pointsOfInterest] DROP CONSTRAINT [PK_pointsOfInterest];
2020-08-28 11:44:33.0901|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [Cities] DROP CONSTRAINT [PK_Cities];
2020-08-28 11:44:33.2679|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (163ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
EXEC sp_rename N'[pointsOfInterest]', N'PointOfInterest';
2020-08-28 11:44:33.2679|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
EXEC sp_rename N'[Cities]', N'City';
2020-08-28 11:44:33.2767|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
EXEC sp_rename N'[PointOfInterest].[IX_pointsOfInterest_cityId]', N'IX_PointOfInterest_cityId', N'INDEX';
2020-08-28 11:44:33.2767|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [PointOfInterest] ADD CONSTRAINT [PK_PointOfInterest] PRIMARY KEY ([id]);
2020-08-28 11:44:33.2908|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [City] ADD CONSTRAINT [PK_City] PRIMARY KEY ([id]);
2020-08-28 11:44:33.2908|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [PointOfInterest] ADD CONSTRAINT [FK_PointOfInterest_City_cityId] FOREIGN KEY ([cityId]) REFERENCES [City] ([id]) ON DELETE CASCADE;
2020-08-28 11:44:33.2908|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20200828104147_Del', N'3.1.7');
2020-08-28 11:44:33.2908|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20200828104404_BackToDeFault'.
2020-08-28 11:44:33.3145|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [PointOfInterest] DROP CONSTRAINT [FK_PointOfInterest_City_cityId];
2020-08-28 11:44:33.3220|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [PointOfInterest] DROP CONSTRAINT [PK_PointOfInterest];
2020-08-28 11:44:33.3220|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [City] DROP CONSTRAINT [PK_City];
2020-08-28 11:44:33.3220|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
EXEC sp_rename N'[PointOfInterest]', N'pointsOfInterest';
2020-08-28 11:44:33.3369|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
EXEC sp_rename N'[City]', N'Cities';
2020-08-28 11:44:33.3369|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
EXEC sp_rename N'[pointsOfInterest].[IX_PointOfInterest_cityId]', N'IX_pointsOfInterest_cityId', N'INDEX';
2020-08-28 11:44:33.3369|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [pointsOfInterest] ADD CONSTRAINT [PK_pointsOfInterest] PRIMARY KEY ([id]);
2020-08-28 11:44:33.3548|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [Cities] ADD CONSTRAINT [PK_Cities] PRIMARY KEY ([id]);
2020-08-28 11:44:33.3548|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [pointsOfInterest] ADD CONSTRAINT [FK_pointsOfInterest_Cities_cityId] FOREIGN KEY ([cityId]) REFERENCES [Cities] ([id]) ON DELETE CASCADE;
2020-08-28 11:44:33.3548|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20200828104404_BackToDeFault', N'3.1.7');
2020-08-28 11:44:33.4045|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|User profile is available. Using 'C:\Users\User\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-08-28 11:44:33.5506|INFO|Microsoft.Hosting.Lifetime|Application started. Press Ctrl+C to shut down.
2020-08-28 11:44:33.5573|INFO|Microsoft.Hosting.Lifetime|Hosting environment: Development
2020-08-28 11:44:33.5573|INFO|Microsoft.Hosting.Lifetime|Content root path: C:\Users\User\source\repos\CityInfo.Api\CityInfo.Api
2020-08-28 11:44:33.5830|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:1028/  
2020-08-28 11:44:33.6757|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished in 94.3407ms 404 text/plain
2020-08-28 15:15:14.2901|INFO|CityInfo.Api.Program|initialing app...
2020-08-28 15:15:15.8209|INFO|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 3.1.7 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-08-28 15:15:17.0225|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (26ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2020-08-28 15:15:17.0972|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [CityInfoDB] SET SINGLE_USER WITH ROLLBACK IMMEDIATE;
END;
2020-08-28 15:15:17.1287|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (28ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
DROP DATABASE [CityInfoDB];
2020-08-28 15:15:27.5709|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (406ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
CREATE DATABASE [CityInfoDB];
2020-08-28 15:15:27.6866|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (112ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [CityInfoDB] SET READ_COMMITTED_SNAPSHOT ON;
END;
2020-08-28 15:15:27.6866|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2020-08-28 15:15:27.8339|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (9ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [__EFMigrationsHistory] (
    [MigrationId] nvarchar(150) NOT NULL,
    [ProductVersion] nvarchar(32) NOT NULL,
    CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
);
2020-08-28 15:15:27.8385|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2020-08-28 15:15:27.8601|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (17ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2020-08-28 15:15:27.8690|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2020-08-28 15:15:27.8940|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20200827204955_CityInfoDBIntialMigration'.
2020-08-28 15:15:27.9295|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Cities] (
    [id] int NOT NULL IDENTITY,
    [Name] nvarchar(50) NOT NULL,
    [Description] nvarchar(200) NULL,
    CONSTRAINT [PK_Cities] PRIMARY KEY ([id])
);
2020-08-28 15:15:27.9353|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [pointsOfInterest] (
    [id] int NOT NULL IDENTITY,
    [Name] nvarchar(50) NOT NULL,
    [cityId] int NOT NULL,
    CONSTRAINT [PK_pointsOfInterest] PRIMARY KEY ([id]),
    CONSTRAINT [FK_pointsOfInterest_Cities_cityId] FOREIGN KEY ([cityId]) REFERENCES [Cities] ([id]) ON DELETE CASCADE
);
2020-08-28 15:15:27.9353|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_pointsOfInterest_cityId] ON [pointsOfInterest] ([cityId]);
2020-08-28 15:15:27.9353|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20200827204955_CityInfoDBIntialMigration', N'3.1.7');
2020-08-28 15:15:27.9544|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20200827210924_CityInfoDBAddPOIMigration'.
2020-08-28 15:15:27.9636|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [pointsOfInterest] ADD [Description] nvarchar(200) NULL;
2020-08-28 15:15:27.9636|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20200827210924_CityInfoDBAddPOIMigration', N'3.1.7');
2020-08-28 15:15:27.9636|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20200828094505_SampleData'.
2020-08-28 15:15:28.0387|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (42ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'id', N'Description', N'Name') AND [object_id] = OBJECT_ID(N'[Cities]'))
    SET IDENTITY_INSERT [Cities] ON;
INSERT INTO [Cities] ([id], [Description], [Name])
VALUES (1, N'The one with that big park.', N'New York City');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'id', N'Description', N'Name') AND [object_id] = OBJECT_ID(N'[Cities]'))
    SET IDENTITY_INSERT [Cities] OFF;
2020-08-28 15:15:28.0505|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (8ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'id', N'Description', N'Name') AND [object_id] = OBJECT_ID(N'[Cities]'))
    SET IDENTITY_INSERT [Cities] ON;
INSERT INTO [Cities] ([id], [Description], [Name])
VALUES (2, N'The one with the cathedral that was never really finished.', N'Antwerp');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'id', N'Description', N'Name') AND [object_id] = OBJECT_ID(N'[Cities]'))
    SET IDENTITY_INSERT [Cities] OFF;
2020-08-28 15:15:28.0664|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (12ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'id', N'Description', N'Name') AND [object_id] = OBJECT_ID(N'[Cities]'))
    SET IDENTITY_INSERT [Cities] ON;
INSERT INTO [Cities] ([id], [Description], [Name])
VALUES (3, N'The one with that big tower.', N'Paris');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'id', N'Description', N'Name') AND [object_id] = OBJECT_ID(N'[Cities]'))
    SET IDENTITY_INSERT [Cities] OFF;
2020-08-28 15:15:28.0817|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (11ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'id', N'Description', N'Name', N'cityId') AND [object_id] = OBJECT_ID(N'[pointsOfInterest]'))
    SET IDENTITY_INSERT [pointsOfInterest] ON;
INSERT INTO [pointsOfInterest] ([id], [Description], [Name], [cityId])
VALUES (1, N'The most visited urban park in the United States.', N'Central Park', 1),
(2, N'A 102-story skyscraper located in Midtown Manhattan.', N'Empire State Building', 1),
(3, N'A Gothic style cathedral, conceived by architects Jan and Pieter Appelmans.', N'Cathedral', 2),
(4, N'The the finest example of railway architecture in Belgium.', N'Antwerp Central Station', 2),
(5, N'A wrought iron lattice tower on the Champ de Mars, named after engineer Gustave Eiffel.', N'Eiffel Tower', 3),
(6, N'The world''s largest museum.', N'The Louvre', 3);
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'id', N'Description', N'Name', N'cityId') AND [object_id] = OBJECT_ID(N'[pointsOfInterest]'))
    SET IDENTITY_INSERT [pointsOfInterest] OFF;
2020-08-28 15:15:28.0817|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20200828094505_SampleData', N'3.1.7');
2020-08-28 15:15:28.0898|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20200828104147_Del'.
2020-08-28 15:15:28.1116|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [pointsOfInterest] DROP CONSTRAINT [FK_pointsOfInterest_Cities_cityId];
2020-08-28 15:15:28.1200|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [pointsOfInterest] DROP CONSTRAINT [PK_pointsOfInterest];
2020-08-28 15:15:28.1200|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [Cities] DROP CONSTRAINT [PK_Cities];
2020-08-28 15:15:28.3129|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (184ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
EXEC sp_rename N'[pointsOfInterest]', N'PointOfInterest';
2020-08-28 15:15:28.3129|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
EXEC sp_rename N'[Cities]', N'City';
2020-08-28 15:15:28.3222|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
EXEC sp_rename N'[PointOfInterest].[IX_pointsOfInterest_cityId]', N'IX_PointOfInterest_cityId', N'INDEX';
2020-08-28 15:15:28.3222|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [PointOfInterest] ADD CONSTRAINT [PK_PointOfInterest] PRIMARY KEY ([id]);
2020-08-28 15:15:28.3379|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [City] ADD CONSTRAINT [PK_City] PRIMARY KEY ([id]);
2020-08-28 15:15:28.3379|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [PointOfInterest] ADD CONSTRAINT [FK_PointOfInterest_City_cityId] FOREIGN KEY ([cityId]) REFERENCES [City] ([id]) ON DELETE CASCADE;
2020-08-28 15:15:28.3379|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20200828104147_Del', N'3.1.7');
2020-08-28 15:15:28.3521|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20200828104404_BackToDeFault'.
2020-08-28 15:15:28.3521|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [PointOfInterest] DROP CONSTRAINT [FK_PointOfInterest_City_cityId];
2020-08-28 15:15:28.3521|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [PointOfInterest] DROP CONSTRAINT [PK_PointOfInterest];
2020-08-28 15:15:28.3709|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [City] DROP CONSTRAINT [PK_City];
2020-08-28 15:15:28.3709|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
EXEC sp_rename N'[PointOfInterest]', N'pointsOfInterest';
2020-08-28 15:15:28.3709|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
EXEC sp_rename N'[City]', N'Cities';
2020-08-28 15:15:28.3829|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
EXEC sp_rename N'[pointsOfInterest].[IX_PointOfInterest_cityId]', N'IX_pointsOfInterest_cityId', N'INDEX';
2020-08-28 15:15:28.3829|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [pointsOfInterest] ADD CONSTRAINT [PK_pointsOfInterest] PRIMARY KEY ([id]);
2020-08-28 15:15:28.3829|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [Cities] ADD CONSTRAINT [PK_Cities] PRIMARY KEY ([id]);
2020-08-28 15:15:28.4018|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [pointsOfInterest] ADD CONSTRAINT [FK_pointsOfInterest_Cities_cityId] FOREIGN KEY ([cityId]) REFERENCES [Cities] ([id]) ON DELETE CASCADE;
2020-08-28 15:15:28.4018|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20200828104404_BackToDeFault', N'3.1.7');
2020-08-28 15:15:28.4523|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|User profile is available. Using 'C:\Users\User\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-08-28 15:15:28.6278|INFO|Microsoft.Hosting.Lifetime|Application started. Press Ctrl+C to shut down.
2020-08-28 15:15:28.6340|INFO|Microsoft.Hosting.Lifetime|Hosting environment: Development
2020-08-28 15:15:28.6340|INFO|Microsoft.Hosting.Lifetime|Content root path: C:\Users\User\source\repos\CityInfo.Api\CityInfo.Api
2020-08-28 15:15:28.6640|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:1028/  
2020-08-28 15:15:28.7818|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished in 118.0775ms 404 text/plain
2020-08-28 15:15:38.3489|INFO|CityInfo.Api.Program|initialing app...
2020-08-28 15:15:39.9312|INFO|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 3.1.7 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-08-28 15:15:40.3004|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (19ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2020-08-28 15:15:40.3648|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [CityInfoDB] SET SINGLE_USER WITH ROLLBACK IMMEDIATE;
END;
2020-08-28 15:15:40.3922|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (24ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
DROP DATABASE [CityInfoDB];
2020-08-28 15:15:50.7697|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (345ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
CREATE DATABASE [CityInfoDB];
2020-08-28 15:15:50.8539|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (79ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [CityInfoDB] SET READ_COMMITTED_SNAPSHOT ON;
END;
2020-08-28 15:15:50.8539|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2020-08-28 15:15:50.9753|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (9ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [__EFMigrationsHistory] (
    [MigrationId] nvarchar(150) NOT NULL,
    [ProductVersion] nvarchar(32) NOT NULL,
    CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
);
2020-08-28 15:15:50.9804|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2020-08-28 15:15:51.0019|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (15ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2020-08-28 15:15:51.0100|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2020-08-28 15:15:51.0323|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20200827204955_CityInfoDBIntialMigration'.
2020-08-28 15:15:51.0667|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Cities] (
    [id] int NOT NULL IDENTITY,
    [Name] nvarchar(50) NOT NULL,
    [Description] nvarchar(200) NULL,
    CONSTRAINT [PK_Cities] PRIMARY KEY ([id])
);
2020-08-28 15:15:51.0716|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [pointsOfInterest] (
    [id] int NOT NULL IDENTITY,
    [Name] nvarchar(50) NOT NULL,
    [cityId] int NOT NULL,
    CONSTRAINT [PK_pointsOfInterest] PRIMARY KEY ([id]),
    CONSTRAINT [FK_pointsOfInterest_Cities_cityId] FOREIGN KEY ([cityId]) REFERENCES [Cities] ([id]) ON DELETE CASCADE
);
2020-08-28 15:15:51.0716|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_pointsOfInterest_cityId] ON [pointsOfInterest] ([cityId]);
2020-08-28 15:15:51.0716|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20200827204955_CityInfoDBIntialMigration', N'3.1.7');
2020-08-28 15:15:51.0890|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20200827210924_CityInfoDBAddPOIMigration'.
2020-08-28 15:15:51.0890|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [pointsOfInterest] ADD [Description] nvarchar(200) NULL;
2020-08-28 15:15:51.1018|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20200827210924_CityInfoDBAddPOIMigration', N'3.1.7');
2020-08-28 15:15:51.1018|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20200828094505_SampleData'.
2020-08-28 15:15:51.1504|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (24ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'id', N'Description', N'Name') AND [object_id] = OBJECT_ID(N'[Cities]'))
    SET IDENTITY_INSERT [Cities] ON;
INSERT INTO [Cities] ([id], [Description], [Name])
VALUES (1, N'The one with that big park.', N'New York City');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'id', N'Description', N'Name') AND [object_id] = OBJECT_ID(N'[Cities]'))
    SET IDENTITY_INSERT [Cities] OFF;
2020-08-28 15:15:51.1504|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'id', N'Description', N'Name') AND [object_id] = OBJECT_ID(N'[Cities]'))
    SET IDENTITY_INSERT [Cities] ON;
INSERT INTO [Cities] ([id], [Description], [Name])
VALUES (2, N'The one with the cathedral that was never really finished.', N'Antwerp');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'id', N'Description', N'Name') AND [object_id] = OBJECT_ID(N'[Cities]'))
    SET IDENTITY_INSERT [Cities] OFF;
2020-08-28 15:15:51.1690|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'id', N'Description', N'Name') AND [object_id] = OBJECT_ID(N'[Cities]'))
    SET IDENTITY_INSERT [Cities] ON;
INSERT INTO [Cities] ([id], [Description], [Name])
VALUES (3, N'The one with that big tower.', N'Paris');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'id', N'Description', N'Name') AND [object_id] = OBJECT_ID(N'[Cities]'))
    SET IDENTITY_INSERT [Cities] OFF;
2020-08-28 15:15:51.1814|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (9ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'id', N'Description', N'Name', N'cityId') AND [object_id] = OBJECT_ID(N'[pointsOfInterest]'))
    SET IDENTITY_INSERT [pointsOfInterest] ON;
INSERT INTO [pointsOfInterest] ([id], [Description], [Name], [cityId])
VALUES (1, N'The most visited urban park in the United States.', N'Central Park', 1),
(2, N'A 102-story skyscraper located in Midtown Manhattan.', N'Empire State Building', 1),
(3, N'A Gothic style cathedral, conceived by architects Jan and Pieter Appelmans.', N'Cathedral', 2),
(4, N'The the finest example of railway architecture in Belgium.', N'Antwerp Central Station', 2),
(5, N'A wrought iron lattice tower on the Champ de Mars, named after engineer Gustave Eiffel.', N'Eiffel Tower', 3),
(6, N'The world''s largest museum.', N'The Louvre', 3);
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'id', N'Description', N'Name', N'cityId') AND [object_id] = OBJECT_ID(N'[pointsOfInterest]'))
    SET IDENTITY_INSERT [pointsOfInterest] OFF;
2020-08-28 15:15:51.1814|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20200828094505_SampleData', N'3.1.7');
2020-08-28 15:15:51.1814|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20200828104147_Del'.
2020-08-28 15:15:51.2006|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [pointsOfInterest] DROP CONSTRAINT [FK_pointsOfInterest_Cities_cityId];
2020-08-28 15:15:51.2006|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [pointsOfInterest] DROP CONSTRAINT [PK_pointsOfInterest];
2020-08-28 15:15:51.2124|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [Cities] DROP CONSTRAINT [PK_Cities];
2020-08-28 15:15:51.3628|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (146ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
EXEC sp_rename N'[pointsOfInterest]', N'PointOfInterest';
2020-08-28 15:15:51.3628|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
EXEC sp_rename N'[Cities]', N'City';
2020-08-28 15:15:51.3715|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
EXEC sp_rename N'[PointOfInterest].[IX_pointsOfInterest_cityId]', N'IX_PointOfInterest_cityId', N'INDEX';
2020-08-28 15:15:51.3715|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [PointOfInterest] ADD CONSTRAINT [PK_PointOfInterest] PRIMARY KEY ([id]);
2020-08-28 15:15:51.3848|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [City] ADD CONSTRAINT [PK_City] PRIMARY KEY ([id]);
2020-08-28 15:15:51.3848|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [PointOfInterest] ADD CONSTRAINT [FK_PointOfInterest_City_cityId] FOREIGN KEY ([cityId]) REFERENCES [City] ([id]) ON DELETE CASCADE;
2020-08-28 15:15:51.3848|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20200828104147_Del', N'3.1.7');
2020-08-28 15:15:51.3848|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20200828104404_BackToDeFault'.
2020-08-28 15:15:51.4060|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [PointOfInterest] DROP CONSTRAINT [FK_PointOfInterest_City_cityId];
2020-08-28 15:15:51.4060|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [PointOfInterest] DROP CONSTRAINT [PK_PointOfInterest];
2020-08-28 15:15:51.4172|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [City] DROP CONSTRAINT [PK_City];
2020-08-28 15:15:51.4172|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
EXEC sp_rename N'[PointOfInterest]', N'pointsOfInterest';
2020-08-28 15:15:51.4172|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
EXEC sp_rename N'[City]', N'Cities';
2020-08-28 15:15:51.4304|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
EXEC sp_rename N'[pointsOfInterest].[IX_PointOfInterest_cityId]', N'IX_pointsOfInterest_cityId', N'INDEX';
2020-08-28 15:15:51.4304|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [pointsOfInterest] ADD CONSTRAINT [PK_pointsOfInterest] PRIMARY KEY ([id]);
2020-08-28 15:15:51.4304|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [Cities] ADD CONSTRAINT [PK_Cities] PRIMARY KEY ([id]);
2020-08-28 15:15:51.4496|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [pointsOfInterest] ADD CONSTRAINT [FK_pointsOfInterest_Cities_cityId] FOREIGN KEY ([cityId]) REFERENCES [Cities] ([id]) ON DELETE CASCADE;
2020-08-28 15:15:51.4496|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20200828104404_BackToDeFault', N'3.1.7');
2020-08-28 15:15:51.5013|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|User profile is available. Using 'C:\Users\User\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-08-28 15:15:51.6534|INFO|Microsoft.Hosting.Lifetime|Application started. Press Ctrl+C to shut down.
2020-08-28 15:15:51.6534|INFO|Microsoft.Hosting.Lifetime|Hosting environment: Development
2020-08-28 15:15:51.6534|INFO|Microsoft.Hosting.Lifetime|Content root path: C:\Users\User\source\repos\CityInfo.Api\CityInfo.Api
2020-08-28 15:15:51.6840|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:1028/  
2020-08-28 15:15:51.7780|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished in 95.3911ms 404 text/plain
2020-08-28 15:15:57.2182|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:1028/api/cities  
2020-08-28 15:15:57.2523|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetCities", controller = "CityControllers"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetCities() on controller CityInfo.Api.Contollers.CityControllers (CityInfo.Api).
2020-08-28 15:15:57.2797|INFO|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 3.1.7 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-08-28 15:15:57.5497|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[id], [c].[Description], [c].[Name], [p].[id], [p].[Description], [p].[Name], [p].[cityId]
FROM [Cities] AS [c]
LEFT JOIN [pointsOfInterest] AS [p] ON [c].[id] = [p].[cityId]
ORDER BY [c].[id], [p].[id]
2020-08-28 15:15:57.6030|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.Api.Models.CityDtoWithOutPointOfInterest, CityInfo.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2020-08-28 15:15:57.6321|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action CityInfo.Api.Contollers.CityControllers.GetCities (CityInfo.Api) in 371.6123ms
2020-08-28 15:15:57.6387|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished in 420.4862ms 200 application/json; charset=utf-8
2020-08-28 15:29:59.0418|INFO|CityInfo.Api.Program|initialing app...
2020-08-28 15:30:00.6234|INFO|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 3.1.7 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-08-28 15:30:01.8330|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (25ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2020-08-28 15:30:01.9074|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [CityInfoDB] SET SINGLE_USER WITH ROLLBACK IMMEDIATE;
END;
2020-08-28 15:30:01.9405|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (29ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
DROP DATABASE [CityInfoDB];
2020-08-28 15:30:12.3059|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (331ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
CREATE DATABASE [CityInfoDB];
2020-08-28 15:30:12.3846|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (75ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [CityInfoDB] SET READ_COMMITTED_SNAPSHOT ON;
END;
2020-08-28 15:30:12.3846|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2020-08-28 15:30:12.5029|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (11ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [__EFMigrationsHistory] (
    [MigrationId] nvarchar(150) NOT NULL,
    [ProductVersion] nvarchar(32) NOT NULL,
    CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
);
2020-08-28 15:30:12.5029|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2020-08-28 15:30:12.5310|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (17ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2020-08-28 15:30:12.5400|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2020-08-28 15:30:12.5660|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20200827204955_CityInfoDBIntialMigration'.
2020-08-28 15:30:12.6047|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Cities] (
    [id] int NOT NULL IDENTITY,
    [Name] nvarchar(50) NOT NULL,
    [Description] nvarchar(200) NULL,
    CONSTRAINT [PK_Cities] PRIMARY KEY ([id])
);
2020-08-28 15:30:12.6047|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [pointsOfInterest] (
    [id] int NOT NULL IDENTITY,
    [Name] nvarchar(50) NOT NULL,
    [cityId] int NOT NULL,
    CONSTRAINT [PK_pointsOfInterest] PRIMARY KEY ([id]),
    CONSTRAINT [FK_pointsOfInterest_Cities_cityId] FOREIGN KEY ([cityId]) REFERENCES [Cities] ([id]) ON DELETE CASCADE
);
2020-08-28 15:30:12.6047|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_pointsOfInterest_cityId] ON [pointsOfInterest] ([cityId]);
2020-08-28 15:30:12.6211|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20200827204955_CityInfoDBIntialMigration', N'3.1.7');
2020-08-28 15:30:12.6211|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20200827210924_CityInfoDBAddPOIMigration'.
2020-08-28 15:30:12.6415|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [pointsOfInterest] ADD [Description] nvarchar(200) NULL;
2020-08-28 15:30:12.6415|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20200827210924_CityInfoDBAddPOIMigration', N'3.1.7');
2020-08-28 15:30:12.6415|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20200828094505_SampleData'.
2020-08-28 15:30:12.6970|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (30ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'id', N'Description', N'Name') AND [object_id] = OBJECT_ID(N'[Cities]'))
    SET IDENTITY_INSERT [Cities] ON;
INSERT INTO [Cities] ([id], [Description], [Name])
VALUES (1, N'The one with that big park.', N'New York City');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'id', N'Description', N'Name') AND [object_id] = OBJECT_ID(N'[Cities]'))
    SET IDENTITY_INSERT [Cities] OFF;
2020-08-28 15:30:12.6970|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'id', N'Description', N'Name') AND [object_id] = OBJECT_ID(N'[Cities]'))
    SET IDENTITY_INSERT [Cities] ON;
INSERT INTO [Cities] ([id], [Description], [Name])
VALUES (2, N'The one with the cathedral that was never really finished.', N'Antwerp');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'id', N'Description', N'Name') AND [object_id] = OBJECT_ID(N'[Cities]'))
    SET IDENTITY_INSERT [Cities] OFF;
2020-08-28 15:30:12.7150|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'id', N'Description', N'Name') AND [object_id] = OBJECT_ID(N'[Cities]'))
    SET IDENTITY_INSERT [Cities] ON;
INSERT INTO [Cities] ([id], [Description], [Name])
VALUES (3, N'The one with that big tower.', N'Paris');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'id', N'Description', N'Name') AND [object_id] = OBJECT_ID(N'[Cities]'))
    SET IDENTITY_INSERT [Cities] OFF;
2020-08-28 15:30:12.7273|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (9ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'id', N'Description', N'Name', N'cityId') AND [object_id] = OBJECT_ID(N'[pointsOfInterest]'))
    SET IDENTITY_INSERT [pointsOfInterest] ON;
INSERT INTO [pointsOfInterest] ([id], [Description], [Name], [cityId])
VALUES (1, N'The most visited urban park in the United States.', N'Central Park', 1),
(2, N'A 102-story skyscraper located in Midtown Manhattan.', N'Empire State Building', 1),
(3, N'A Gothic style cathedral, conceived by architects Jan and Pieter Appelmans.', N'Cathedral', 2),
(4, N'The the finest example of railway architecture in Belgium.', N'Antwerp Central Station', 2),
(5, N'A wrought iron lattice tower on the Champ de Mars, named after engineer Gustave Eiffel.', N'Eiffel Tower', 3),
(6, N'The world''s largest museum.', N'The Louvre', 3);
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'id', N'Description', N'Name', N'cityId') AND [object_id] = OBJECT_ID(N'[pointsOfInterest]'))
    SET IDENTITY_INSERT [pointsOfInterest] OFF;
2020-08-28 15:30:12.7273|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20200828094505_SampleData', N'3.1.7');
2020-08-28 15:30:12.7273|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20200828104147_Del'.
2020-08-28 15:30:12.7485|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [pointsOfInterest] DROP CONSTRAINT [FK_pointsOfInterest_Cities_cityId];
2020-08-28 15:30:12.7485|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [pointsOfInterest] DROP CONSTRAINT [PK_pointsOfInterest];
2020-08-28 15:30:12.7609|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [Cities] DROP CONSTRAINT [PK_Cities];
2020-08-28 15:30:12.9480|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (184ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
EXEC sp_rename N'[pointsOfInterest]', N'PointOfInterest';
2020-08-28 15:30:12.9480|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
EXEC sp_rename N'[Cities]', N'City';
2020-08-28 15:30:12.9480|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
EXEC sp_rename N'[PointOfInterest].[IX_pointsOfInterest_cityId]', N'IX_PointOfInterest_cityId', N'INDEX';
2020-08-28 15:30:12.9635|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [PointOfInterest] ADD CONSTRAINT [PK_PointOfInterest] PRIMARY KEY ([id]);
2020-08-28 15:30:12.9635|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [City] ADD CONSTRAINT [PK_City] PRIMARY KEY ([id]);
2020-08-28 15:30:12.9635|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [PointOfInterest] ADD CONSTRAINT [FK_PointOfInterest_City_cityId] FOREIGN KEY ([cityId]) REFERENCES [City] ([id]) ON DELETE CASCADE;
2020-08-28 15:30:12.9782|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20200828104147_Del', N'3.1.7');
2020-08-28 15:30:12.9782|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20200828104404_BackToDeFault'.
2020-08-28 15:30:12.9782|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [PointOfInterest] DROP CONSTRAINT [FK_PointOfInterest_City_cityId];
2020-08-28 15:30:13.0026|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [PointOfInterest] DROP CONSTRAINT [PK_PointOfInterest];
2020-08-28 15:30:13.0026|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [City] DROP CONSTRAINT [PK_City];
2020-08-28 15:30:13.0131|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
EXEC sp_rename N'[PointOfInterest]', N'pointsOfInterest';
2020-08-28 15:30:13.0131|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
EXEC sp_rename N'[City]', N'Cities';
2020-08-28 15:30:13.0131|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
EXEC sp_rename N'[pointsOfInterest].[IX_PointOfInterest_cityId]', N'IX_pointsOfInterest_cityId', N'INDEX';
2020-08-28 15:30:13.0326|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [pointsOfInterest] ADD CONSTRAINT [PK_pointsOfInterest] PRIMARY KEY ([id]);
2020-08-28 15:30:13.0402|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [Cities] ADD CONSTRAINT [PK_Cities] PRIMARY KEY ([id]);
2020-08-28 15:30:13.0402|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [pointsOfInterest] ADD CONSTRAINT [FK_pointsOfInterest_Cities_cityId] FOREIGN KEY ([cityId]) REFERENCES [Cities] ([id]) ON DELETE CASCADE;
2020-08-28 15:30:13.0402|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20200828104404_BackToDeFault', N'3.1.7');
2020-08-28 15:30:13.0991|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|User profile is available. Using 'C:\Users\User\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-08-28 15:30:13.2594|INFO|Microsoft.Hosting.Lifetime|Application started. Press Ctrl+C to shut down.
2020-08-28 15:30:13.2594|INFO|Microsoft.Hosting.Lifetime|Hosting environment: Development
2020-08-28 15:30:13.2594|INFO|Microsoft.Hosting.Lifetime|Content root path: C:\Users\User\source\repos\CityInfo.Api\CityInfo.Api
2020-08-28 15:30:13.2908|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:1028/  
2020-08-28 15:30:13.3813|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished in 91.9192ms 404 text/plain
2020-08-28 15:30:27.1536|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:1028/api/cities/3  
2020-08-28 15:30:27.1912|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetCity", controller = "CityControllers"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetCity(Int32, Boolean) on controller CityInfo.Api.Contollers.CityControllers (CityInfo.Api).
2020-08-28 15:30:27.2314|INFO|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 3.1.7 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-08-28 15:30:27.4771|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (36ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [c].[id], [c].[Description], [c].[Name]
FROM [Cities] AS [c]
WHERE [c].[id] = @__cityId_0
2020-08-28 15:30:27.5127|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing ObjectResult, writing value of type 'CityInfo.Api.Models.CityDtoWithOutPointOfInterest'.
2020-08-28 15:30:27.5338|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action CityInfo.Api.Contollers.CityControllers.GetCity (CityInfo.Api) in 333.7371ms
2020-08-28 15:30:27.5408|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished in 387.7673ms 200 application/json; charset=utf-8
2020-08-28 15:31:33.4612|INFO|CityInfo.Api.Program|initialing app...
2020-08-28 15:31:34.9431|INFO|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 3.1.7 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-08-28 15:31:35.3078|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (19ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2020-08-28 15:31:35.3796|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [CityInfoDB] SET SINGLE_USER WITH ROLLBACK IMMEDIATE;
END;
2020-08-28 15:31:35.4087|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (26ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
DROP DATABASE [CityInfoDB];
2020-08-28 15:31:45.8849|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (433ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
CREATE DATABASE [CityInfoDB];
2020-08-28 15:31:45.9611|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (71ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [CityInfoDB] SET READ_COMMITTED_SNAPSHOT ON;
END;
2020-08-28 15:31:45.9611|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2020-08-28 15:31:46.0892|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (10ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [__EFMigrationsHistory] (
    [MigrationId] nvarchar(150) NOT NULL,
    [ProductVersion] nvarchar(32) NOT NULL,
    CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
);
2020-08-28 15:31:46.0892|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2020-08-28 15:31:46.1169|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (17ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2020-08-28 15:31:46.1265|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2020-08-28 15:31:46.1506|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20200827204955_CityInfoDBIntialMigration'.
2020-08-28 15:31:46.1865|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Cities] (
    [id] int NOT NULL IDENTITY,
    [Name] nvarchar(50) NOT NULL,
    [Description] nvarchar(200) NULL,
    CONSTRAINT [PK_Cities] PRIMARY KEY ([id])
);
2020-08-28 15:31:46.1865|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [pointsOfInterest] (
    [id] int NOT NULL IDENTITY,
    [Name] nvarchar(50) NOT NULL,
    [cityId] int NOT NULL,
    CONSTRAINT [PK_pointsOfInterest] PRIMARY KEY ([id]),
    CONSTRAINT [FK_pointsOfInterest_Cities_cityId] FOREIGN KEY ([cityId]) REFERENCES [Cities] ([id]) ON DELETE CASCADE
);
2020-08-28 15:31:46.1961|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_pointsOfInterest_cityId] ON [pointsOfInterest] ([cityId]);
2020-08-28 15:31:46.1961|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20200827204955_CityInfoDBIntialMigration', N'3.1.7');
2020-08-28 15:31:46.1961|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20200827210924_CityInfoDBAddPOIMigration'.
2020-08-28 15:31:46.2181|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [pointsOfInterest] ADD [Description] nvarchar(200) NULL;
2020-08-28 15:31:46.2181|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20200827210924_CityInfoDBAddPOIMigration', N'3.1.7');
2020-08-28 15:31:46.2181|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20200828094505_SampleData'.
2020-08-28 15:31:46.2697|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (26ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'id', N'Description', N'Name') AND [object_id] = OBJECT_ID(N'[Cities]'))
    SET IDENTITY_INSERT [Cities] ON;
INSERT INTO [Cities] ([id], [Description], [Name])
VALUES (1, N'The one with that big park.', N'New York City');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'id', N'Description', N'Name') AND [object_id] = OBJECT_ID(N'[Cities]'))
    SET IDENTITY_INSERT [Cities] OFF;
2020-08-28 15:31:46.2803|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (7ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'id', N'Description', N'Name') AND [object_id] = OBJECT_ID(N'[Cities]'))
    SET IDENTITY_INSERT [Cities] ON;
INSERT INTO [Cities] ([id], [Description], [Name])
VALUES (2, N'The one with the cathedral that was never really finished.', N'Antwerp');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'id', N'Description', N'Name') AND [object_id] = OBJECT_ID(N'[Cities]'))
    SET IDENTITY_INSERT [Cities] OFF;
2020-08-28 15:31:46.2803|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'id', N'Description', N'Name') AND [object_id] = OBJECT_ID(N'[Cities]'))
    SET IDENTITY_INSERT [Cities] ON;
INSERT INTO [Cities] ([id], [Description], [Name])
VALUES (3, N'The one with that big tower.', N'Paris');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'id', N'Description', N'Name') AND [object_id] = OBJECT_ID(N'[Cities]'))
    SET IDENTITY_INSERT [Cities] OFF;
2020-08-28 15:31:46.3027|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (9ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'id', N'Description', N'Name', N'cityId') AND [object_id] = OBJECT_ID(N'[pointsOfInterest]'))
    SET IDENTITY_INSERT [pointsOfInterest] ON;
INSERT INTO [pointsOfInterest] ([id], [Description], [Name], [cityId])
VALUES (1, N'The most visited urban park in the United States.', N'Central Park', 1),
(2, N'A 102-story skyscraper located in Midtown Manhattan.', N'Empire State Building', 1),
(3, N'A Gothic style cathedral, conceived by architects Jan and Pieter Appelmans.', N'Cathedral', 2),
(4, N'The the finest example of railway architecture in Belgium.', N'Antwerp Central Station', 2),
(5, N'A wrought iron lattice tower on the Champ de Mars, named after engineer Gustave Eiffel.', N'Eiffel Tower', 3),
(6, N'The world''s largest museum.', N'The Louvre', 3);
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'id', N'Description', N'Name', N'cityId') AND [object_id] = OBJECT_ID(N'[pointsOfInterest]'))
    SET IDENTITY_INSERT [pointsOfInterest] OFF;
2020-08-28 15:31:46.3065|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20200828094505_SampleData', N'3.1.7');
2020-08-28 15:31:46.3065|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20200828104147_Del'.
2020-08-28 15:31:46.3259|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [pointsOfInterest] DROP CONSTRAINT [FK_pointsOfInterest_Cities_cityId];
2020-08-28 15:31:46.3259|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [pointsOfInterest] DROP CONSTRAINT [PK_pointsOfInterest];
2020-08-28 15:31:46.3380|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [Cities] DROP CONSTRAINT [PK_Cities];
2020-08-28 15:31:46.5609|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (219ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
EXEC sp_rename N'[pointsOfInterest]', N'PointOfInterest';
2020-08-28 15:31:46.5609|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
EXEC sp_rename N'[Cities]', N'City';
2020-08-28 15:31:46.5609|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
EXEC sp_rename N'[PointOfInterest].[IX_pointsOfInterest_cityId]', N'IX_PointOfInterest_cityId', N'INDEX';
2020-08-28 15:31:46.5795|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (8ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [PointOfInterest] ADD CONSTRAINT [PK_PointOfInterest] PRIMARY KEY ([id]);
2020-08-28 15:31:46.5795|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [City] ADD CONSTRAINT [PK_City] PRIMARY KEY ([id]);
2020-08-28 15:31:46.5896|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [PointOfInterest] ADD CONSTRAINT [FK_PointOfInterest_City_cityId] FOREIGN KEY ([cityId]) REFERENCES [City] ([id]) ON DELETE CASCADE;
2020-08-28 15:31:46.6131|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20200828104147_Del', N'3.1.7');
2020-08-28 15:31:46.6131|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20200828104404_BackToDeFault'.
2020-08-28 15:31:46.6244|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [PointOfInterest] DROP CONSTRAINT [FK_PointOfInterest_City_cityId];
2020-08-28 15:31:46.6507|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [PointOfInterest] DROP CONSTRAINT [PK_PointOfInterest];
2020-08-28 15:31:46.6709|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (9ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [City] DROP CONSTRAINT [PK_City];
2020-08-28 15:31:46.6852|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
EXEC sp_rename N'[PointOfInterest]', N'pointsOfInterest';
2020-08-28 15:31:46.6852|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
EXEC sp_rename N'[City]', N'Cities';
2020-08-28 15:31:46.6981|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
EXEC sp_rename N'[pointsOfInterest].[IX_PointOfInterest_cityId]', N'IX_pointsOfInterest_cityId', N'INDEX';
2020-08-28 15:31:46.6981|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [pointsOfInterest] ADD CONSTRAINT [PK_pointsOfInterest] PRIMARY KEY ([id]);
2020-08-28 15:31:46.7128|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [Cities] ADD CONSTRAINT [PK_Cities] PRIMARY KEY ([id]);
2020-08-28 15:31:46.7128|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [pointsOfInterest] ADD CONSTRAINT [FK_pointsOfInterest_Cities_cityId] FOREIGN KEY ([cityId]) REFERENCES [Cities] ([id]) ON DELETE CASCADE;
2020-08-28 15:31:46.7128|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20200828104404_BackToDeFault', N'3.1.7');
2020-08-28 15:31:46.7806|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|User profile is available. Using 'C:\Users\User\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-08-28 15:31:46.9377|INFO|Microsoft.Hosting.Lifetime|Application started. Press Ctrl+C to shut down.
2020-08-28 15:31:46.9459|INFO|Microsoft.Hosting.Lifetime|Hosting environment: Development
2020-08-28 15:31:46.9459|INFO|Microsoft.Hosting.Lifetime|Content root path: C:\Users\User\source\repos\CityInfo.Api\CityInfo.Api
2020-08-28 15:31:46.9818|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:1028/  
2020-08-28 15:31:47.1111|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished in 130.4225ms 404 text/plain
2020-08-28 15:32:10.3582|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:1028/api/cities/3?includePointsOfInterest=true  
2020-08-28 15:32:10.3947|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetCity", controller = "CityControllers"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetCity(Int32, Boolean) on controller CityInfo.Api.Contollers.CityControllers (CityInfo.Api).
2020-08-28 15:32:10.4366|INFO|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 3.1.7 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-08-28 15:32:10.6761|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (32ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [c].[id], [c].[Description], [c].[Name]
FROM [Cities] AS [c]
WHERE [c].[id] = @__cityId_0
2020-08-28 15:32:10.7133|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing ObjectResult, writing value of type 'CityInfo.Api.Models.CityDtoWithOutPointOfInterest'.
2020-08-28 15:32:10.7327|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action CityInfo.Api.Contollers.CityControllers.GetCity (CityInfo.Api) in 329.902ms
2020-08-28 15:32:10.7327|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished in 405.8482ms 200 application/json; charset=utf-8
2020-08-28 15:32:51.5080|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:1028/api/cities/3?includepointsofinterest=true  
2020-08-28 15:32:51.5152|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetCity", controller = "CityControllers"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetCity(Int32, Boolean) on controller CityInfo.Api.Contollers.CityControllers (CityInfo.Api).
2020-08-28 15:32:51.5669|INFO|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 3.1.7 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-08-28 15:32:51.5750|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [c].[id], [c].[Description], [c].[Name]
FROM [Cities] AS [c]
WHERE [c].[id] = @__cityId_0
2020-08-28 15:32:51.5750|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing ObjectResult, writing value of type 'CityInfo.Api.Models.CityDtoWithOutPointOfInterest'.
2020-08-28 15:32:51.5750|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action CityInfo.Api.Contollers.CityControllers.GetCity (CityInfo.Api) in 64.7857ms
2020-08-28 15:32:51.5869|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished in 79.3208ms 200 application/json; charset=utf-8
2020-08-28 15:33:49.6277|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:1028/api/cities/1?includepointsofinterest=true  
2020-08-28 15:33:49.6328|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetCity", controller = "CityControllers"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetCity(Int32, Boolean) on controller CityInfo.Api.Contollers.CityControllers (CityInfo.Api).
2020-08-28 15:33:49.6328|INFO|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 3.1.7 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-08-28 15:33:49.6328|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [c].[id], [c].[Description], [c].[Name]
FROM [Cities] AS [c]
WHERE [c].[id] = @__cityId_0
2020-08-28 15:33:49.6547|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing ObjectResult, writing value of type 'CityInfo.Api.Models.CityDtoWithOutPointOfInterest'.
2020-08-28 15:33:49.6547|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action CityInfo.Api.Contollers.CityControllers.GetCity (CityInfo.Api) in 24.0926ms
2020-08-28 15:33:49.6672|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished in 39.644ms 200 application/json; charset=utf-8
2020-08-28 15:34:59.7327|INFO|CityInfo.Api.Program|initialing app...
2020-08-28 15:35:01.1349|INFO|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 3.1.7 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-08-28 15:35:01.4976|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (18ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2020-08-28 15:35:01.5608|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [CityInfoDB] SET SINGLE_USER WITH ROLLBACK IMMEDIATE;
END;
2020-08-28 15:35:01.5892|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (25ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
DROP DATABASE [CityInfoDB];
2020-08-28 15:35:11.9712|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (350ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
CREATE DATABASE [CityInfoDB];
2020-08-28 15:35:12.0567|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (80ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [CityInfoDB] SET READ_COMMITTED_SNAPSHOT ON;
END;
2020-08-28 15:35:12.0567|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2020-08-28 15:35:12.1895|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (7ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [__EFMigrationsHistory] (
    [MigrationId] nvarchar(150) NOT NULL,
    [ProductVersion] nvarchar(32) NOT NULL,
    CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
);
2020-08-28 15:35:12.1895|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2020-08-28 15:35:12.2194|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (19ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2020-08-28 15:35:12.2277|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2020-08-28 15:35:12.2528|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20200827204955_CityInfoDBIntialMigration'.
2020-08-28 15:35:12.2881|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Cities] (
    [id] int NOT NULL IDENTITY,
    [Name] nvarchar(50) NOT NULL,
    [Description] nvarchar(200) NULL,
    CONSTRAINT [PK_Cities] PRIMARY KEY ([id])
);
2020-08-28 15:35:12.2936|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [pointsOfInterest] (
    [id] int NOT NULL IDENTITY,
    [Name] nvarchar(50) NOT NULL,
    [cityId] int NOT NULL,
    CONSTRAINT [PK_pointsOfInterest] PRIMARY KEY ([id]),
    CONSTRAINT [FK_pointsOfInterest_Cities_cityId] FOREIGN KEY ([cityId]) REFERENCES [Cities] ([id]) ON DELETE CASCADE
);
2020-08-28 15:35:12.2936|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_pointsOfInterest_cityId] ON [pointsOfInterest] ([cityId]);
2020-08-28 15:35:12.2936|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20200827204955_CityInfoDBIntialMigration', N'3.1.7');
2020-08-28 15:35:12.3356|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20200827210924_CityInfoDBAddPOIMigration'.
2020-08-28 15:35:12.3459|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [pointsOfInterest] ADD [Description] nvarchar(200) NULL;
2020-08-28 15:35:12.3459|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20200827210924_CityInfoDBAddPOIMigration', N'3.1.7');
2020-08-28 15:35:12.3534|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20200828094505_SampleData'.
2020-08-28 15:35:12.4078|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (32ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'id', N'Description', N'Name') AND [object_id] = OBJECT_ID(N'[Cities]'))
    SET IDENTITY_INSERT [Cities] ON;
INSERT INTO [Cities] ([id], [Description], [Name])
VALUES (1, N'The one with that big park.', N'New York City');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'id', N'Description', N'Name') AND [object_id] = OBJECT_ID(N'[Cities]'))
    SET IDENTITY_INSERT [Cities] OFF;
2020-08-28 15:35:12.4221|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (11ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'id', N'Description', N'Name') AND [object_id] = OBJECT_ID(N'[Cities]'))
    SET IDENTITY_INSERT [Cities] ON;
INSERT INTO [Cities] ([id], [Description], [Name])
VALUES (2, N'The one with the cathedral that was never really finished.', N'Antwerp');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'id', N'Description', N'Name') AND [object_id] = OBJECT_ID(N'[Cities]'))
    SET IDENTITY_INSERT [Cities] OFF;
2020-08-28 15:35:12.4329|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (8ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'id', N'Description', N'Name') AND [object_id] = OBJECT_ID(N'[Cities]'))
    SET IDENTITY_INSERT [Cities] ON;
INSERT INTO [Cities] ([id], [Description], [Name])
VALUES (3, N'The one with that big tower.', N'Paris');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'id', N'Description', N'Name') AND [object_id] = OBJECT_ID(N'[Cities]'))
    SET IDENTITY_INSERT [Cities] OFF;
2020-08-28 15:35:12.4483|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (12ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'id', N'Description', N'Name', N'cityId') AND [object_id] = OBJECT_ID(N'[pointsOfInterest]'))
    SET IDENTITY_INSERT [pointsOfInterest] ON;
INSERT INTO [pointsOfInterest] ([id], [Description], [Name], [cityId])
VALUES (1, N'The most visited urban park in the United States.', N'Central Park', 1),
(2, N'A 102-story skyscraper located in Midtown Manhattan.', N'Empire State Building', 1),
(3, N'A Gothic style cathedral, conceived by architects Jan and Pieter Appelmans.', N'Cathedral', 2),
(4, N'The the finest example of railway architecture in Belgium.', N'Antwerp Central Station', 2),
(5, N'A wrought iron lattice tower on the Champ de Mars, named after engineer Gustave Eiffel.', N'Eiffel Tower', 3),
(6, N'The world''s largest museum.', N'The Louvre', 3);
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'id', N'Description', N'Name', N'cityId') AND [object_id] = OBJECT_ID(N'[pointsOfInterest]'))
    SET IDENTITY_INSERT [pointsOfInterest] OFF;
2020-08-28 15:35:12.4483|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20200828094505_SampleData', N'3.1.7');
2020-08-28 15:35:12.4483|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20200828104147_Del'.
2020-08-28 15:35:12.4752|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [pointsOfInterest] DROP CONSTRAINT [FK_pointsOfInterest_Cities_cityId];
2020-08-28 15:35:12.4835|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [pointsOfInterest] DROP CONSTRAINT [PK_pointsOfInterest];
2020-08-28 15:35:12.4835|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [Cities] DROP CONSTRAINT [PK_Cities];
2020-08-28 15:35:12.7081|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (215ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
EXEC sp_rename N'[pointsOfInterest]', N'PointOfInterest';
2020-08-28 15:35:12.7134|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
EXEC sp_rename N'[Cities]', N'City';
2020-08-28 15:35:12.7134|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
EXEC sp_rename N'[PointOfInterest].[IX_pointsOfInterest_cityId]', N'IX_PointOfInterest_cityId', N'INDEX';
2020-08-28 15:35:12.7134|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [PointOfInterest] ADD CONSTRAINT [PK_PointOfInterest] PRIMARY KEY ([id]);
2020-08-28 15:35:12.7326|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [City] ADD CONSTRAINT [PK_City] PRIMARY KEY ([id]);
2020-08-28 15:35:12.7326|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [PointOfInterest] ADD CONSTRAINT [FK_PointOfInterest_City_cityId] FOREIGN KEY ([cityId]) REFERENCES [City] ([id]) ON DELETE CASCADE;
2020-08-28 15:35:12.7326|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20200828104147_Del', N'3.1.7');
2020-08-28 15:35:12.7467|INFO|Microsoft.EntityFrameworkCore.Migrations|Applying migration '20200828104404_BackToDeFault'.
2020-08-28 15:35:12.7467|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [PointOfInterest] DROP CONSTRAINT [FK_PointOfInterest_City_cityId];
2020-08-28 15:35:12.7629|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [PointOfInterest] DROP CONSTRAINT [PK_PointOfInterest];
2020-08-28 15:35:12.7629|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [City] DROP CONSTRAINT [PK_City];
2020-08-28 15:35:12.7629|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
EXEC sp_rename N'[PointOfInterest]', N'pointsOfInterest';
2020-08-28 15:35:12.7772|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
EXEC sp_rename N'[City]', N'Cities';
2020-08-28 15:35:12.7772|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
EXEC sp_rename N'[pointsOfInterest].[IX_PointOfInterest_cityId]', N'IX_pointsOfInterest_cityId', N'INDEX';
2020-08-28 15:35:12.7772|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [pointsOfInterest] ADD CONSTRAINT [PK_pointsOfInterest] PRIMARY KEY ([id]);
2020-08-28 15:35:12.7952|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [Cities] ADD CONSTRAINT [PK_Cities] PRIMARY KEY ([id]);
2020-08-28 15:35:12.7952|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [pointsOfInterest] ADD CONSTRAINT [FK_pointsOfInterest_Cities_cityId] FOREIGN KEY ([cityId]) REFERENCES [Cities] ([id]) ON DELETE CASCADE;
2020-08-28 15:35:12.7952|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20200828104404_BackToDeFault', N'3.1.7');
2020-08-28 15:35:12.8512|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|User profile is available. Using 'C:\Users\User\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-08-28 15:35:13.0512|INFO|Microsoft.Hosting.Lifetime|Application started. Press Ctrl+C to shut down.
2020-08-28 15:35:13.0567|INFO|Microsoft.Hosting.Lifetime|Hosting environment: Development
2020-08-28 15:35:13.0567|INFO|Microsoft.Hosting.Lifetime|Content root path: C:\Users\User\source\repos\CityInfo.Api\CityInfo.Api
2020-08-28 15:35:13.0898|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:1028/  
2020-08-28 15:35:13.1868|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished in 99.139ms 404 text/plain
2020-08-28 15:35:19.0901|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:1028/api/cities/1?includepointsofinterest=true  
2020-08-28 15:35:19.1253|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetCity", controller = "CityControllers"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetCity(Int32, Boolean) on controller CityInfo.Api.Contollers.CityControllers (CityInfo.Api).
2020-08-28 15:35:19.1650|INFO|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 3.1.7 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-08-28 15:35:19.4625|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (30ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[id], [t].[Description], [t].[Name], [p].[id], [p].[Description], [p].[Name], [p].[cityId]
FROM (
    SELECT TOP(1) [c].[id], [c].[Description], [c].[Name]
    FROM [Cities] AS [c]
    WHERE [c].[id] = @__cityId_0
) AS [t]
LEFT JOIN [pointsOfInterest] AS [p] ON [t].[id] = [p].[cityId]
ORDER BY [t].[id], [p].[id]
2020-08-28 15:35:19.5149|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing ObjectResult, writing value of type 'CityInfo.Api.Models.CityDTo'.
2020-08-28 15:35:19.5489|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action CityInfo.Api.Contollers.CityControllers.GetCity (CityInfo.Api) in 412.8759ms
2020-08-28 15:35:19.5550|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished in 464.8302ms 200 application/json; charset=utf-8
